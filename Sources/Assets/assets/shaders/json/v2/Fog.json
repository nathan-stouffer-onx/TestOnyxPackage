{
  "transfers": [
    {
      "name": "fogDist",
      "type": "FLOAT"
    }
  ],
  "chunks": [
    {
      "lines": [
        "vec3 fog(vec3 underneath, vec4 color, vec2 transition, float d)",
        "{",
        "float strength = smoothstep(transition.x, transition.y, d);",
        "return mix(underneath, color.rgb, strength * color.a);",
        "}"
      ],
      "section": "FUNCTIONS",
      "shaders": "FRAGMENT"
    },
    {
      "lines": [
        "float fogDist = distToEye;"
      ],
      "section": "COMPOSE",
      "shaders": "VERTEX"
    },
    {
      "lines": [
        "fragColor.rgb = fog(fragColor.rgb, u_FogColor, u_FogTransition.xy, fogDist);"
      ],
      "section": "LIGHTING",
      "shaders": "FRAGMENT"
    }
  ],
  "uniforms": [
    {
      "name": "u_FogTransition",
      "type": "VEC2"
    },
    {
      "name": "u_FogColor",
      "type": "COLOR"
    }
  ]
}